<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GPS-Трекер</title>
  <link rel="stylesheet" href="style.css">
  <!--eel-->
  <script type="text/javascript" src="/eel.js"></script>
  <!--Bootstrap CSS-->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    crossorigin="anonymous"></script>
  <!--Yandex maps API-->
  <script src="https://api-maps.yandex.ru/2.1/?apikey=4ce223fe-fe7c-4837-80fb-1f017bf82ade&lang=ru_RU"
    type="text/javascript"></script>
</head>

<body>



  <div class="container">

    <div class=" d-flex">
      <div class="col-12 card container mt-1">
        <h1 class="text-center">Система перемещения сотрудников</h1>
      </div>
    </div>

    <div class=" d-flex mt-4">
      <div class="col-8 card container">

        <div class="container p-2">
          <div class="map-pos" id="map" style="width: 100%; height: 600px"></div>
        </div>
      </div>



      <div class="col-1"></div>



      <div class="col-3">
        
        <div class="card container pt-3 pb-3 mb-4">
          
          <button type="button" class="btn btn-success mb-2 p-3" onclick="location.reload()">Обновить информацию</button>
          <button type="button" class="btn btn-danger mt-2 p-3" onclick="window.close()">Выход из приложения</button>
     
        </div>




        <div class="card container">
        <h2 class="text-center mt-2">Пересечения</h2>
        <table class="table mt-2">
          <thead>
            <tr>
              <th scope="col">№ сотрудника</th>
              <th scope="col">Контакт</th>

            </tr>
          </thead>
          <tbody>
            <tr>

              <td>Mark</td>
              <td>Otto</td>
 
            </tr>
            <tr>

              <td>Mark</td>
              <td>Otto</td>
     
            </tr>
            <tr>

              <td>Mark</td>
              <td>Otto</td>
    
            </tr>
            <tr>

              <td>Mark</td>
              <td>Otto</td>
    
            </tr>
            <tr>

              <td>Mark</td>
              <td>Otto</td>
    
            </tr>
            <tr>

              <td>Mark</td>
              <td>Otto</td>
    
            </tr>
          </tbody>
        </table>


      </div>
      </div>
    </div>
    <div class=" d-flex mt-4">
      <div class="col-12 card container">
        <h2 class="text-center mt-2">Информация о сотрудниках</h2>
        <table class="table mt-2">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">ФИО</th>
              <th scope="col">Возраст</th>
              <th scope="col">Должность</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th scope="row">1</th>
              <td>Mark</td>
              <td>Otto</td>
              <td>@mdo</td>
            </tr>
            <tr>
              <th scope="row">1</th>
              <td>Mark</td>
              <td>Otto</td>
              <td>@mdo</td>
            </tr>
            <tr>
              <th scope="row">1</th>
              <td>Mark</td>
              <td>Otto</td>
              <td>@mdo</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</body>
































<script type="text/javascript">

  var obj;
  var chel1;

  //Получаем массивы данных
  eel.expose(call);
  function call(points, result, table) {

    console.log(points);
    obj = points[0];


    var chel1 = obj[0];

    sessionStorage.setItem('chel1', JSON.stringify(chel1));

  }

  chel1 = JSON.parse(sessionStorage.getItem('chel1'));

  console.log(chel1);

  //Карта
  ymaps.ready(init);
  function init() {
    var myMap = new ymaps.Map("map", {
      center: [55.691044, 37.352471],
      zoom: 15
    });

    var myPolyline = new ymaps.Polyline(chel1,
      {
        balloonContent: "Polyline"
      },
      {
        balloonCloseButton: false,
        strokeColor: "#FF0000",
        strokeWidth: 4,
        strokeOpacity: 0.5
      });

    myMap.geoObjects

      .add(myPolyline);



  }
</script>


</html>